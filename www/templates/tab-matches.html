<ion-view view-title="Matches">
    <ion-content class="padding">
        <ion-refresher pulling-text="Pull to refresh" on-refresh="doRefresh()">
        </ion-refresher>
        <div class="container"><div class="col-md-12">
        <nav id="nav-select">
            <ul class="nav nav-pills nav-pills-custom nav-justified">
                <li ng-class="view=='upcoming' ? 'active' : ''"><a data-toggle="tab" ng-click="setView('upcoming')">Upcoming</a></li>
                <li ng-class="view=='current' ? 'active' : ''"><a data-toggle="tab" ng-click="setView('current')">Current</a></li>
                <li ng-class="view=='finished' ? 'active' : ''"><a data-toggle="tab" ng-click="setView('finished')">Finished</a></li>
            </ul>
        </nav>

        <!-- Tab panes -->
        <div class="tab-content">
            <div class="tab-pane active" id="upcoming-matches" ng-if="view=='upcoming'">
                <h2 class="table-title">
                    Upcoming matches
                </h2>

                <table id="upcoming-matches-table" class="table team-table">
                    <tbody>
                    <tr ng-repeat="match in upcomingMatches">
                        <td class="discipline">
                            {{ match.discipline }}
                        </td>
                        <td class="localId">
                            {{ match.localId }}
                        </td>
                        <td class="team team1 text-right">
                            <span class="player" ng-repeat="player in match.team1.players">{{player.name}}</span>
                        </td>
                        <td class="team team2">
                            <span class="player" ng-repeat="player in match.team2.players">{{player.name}}</span>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div class="tab-pane active" id="current-matches" ng-if="view=='current'">
                <h2 class="table-title">
                    Current matches
                </h2>
                <table id="current-matches-table" class="table team-table">
                    <tbody>
                    <tr ng-repeat="match in currentMatches">
                        <td class="match-playing status" ng-class="match.locationOnHold ? 'postponed' : ''">
                            <!--         <span class="sub">court</span> -->
                            <strong>{{ match.location }}</strong>
                        </td>
                        <td class="discipline">
                            {{ match.discipline }}
                        </td>
                        <td class="localId">
                            {{ match.localId }}
                        </td>
                        <td class="team team1 text-right">
                            <span class="player" ng-repeat="player in match.team1Players">{{player}}</span>
                        </td>
                        <td class="team team2">
                            <span class="player" ng-repeat="player in match.team2Players">{{player}}</span>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div class="tab-pane active" id="finished-matches" ng-if="view=='finished'">
                <h2 class="table-title">
                    Finished matches
                </h2>
                <table id="finished-matches-table" class="table team-table">
                    <tbody>
                    <tr ng-repeat="match in finishedMatches">
                        <td class="discipline">
                            {{ match.discipline }}
                        </td>
                        <td class="localId">
                            {{ match.localId }}
                        </td>
                        <td class="team team1 text-right">
                            <span class="player" ng-repeat="player in match.team1.players">{{player.name}}</span>
                        </td>
                        <td class="team team2">
                            <span class="player" ng-repeat="player in match.team2.players">{{player.name}}</span>
                        </td>
                        <td class="score">
                            <span class="set-score">{{ match.score }}</span>
                            <!--<span class="set-score">{{ match.score }}</span>-->
                        </td>
                    </tr>

                    <tr>
                        <td colspan="5" class="loadmore-row"><button class="loadmore btn btn-default btn-block" ng-click="loadMoreFinishedMatches()">Load more matches</button></td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div ng-include="'templates/loadingPane.html'" ng-if="isLoading"></div>
        </div><!-- /.tab-content -->
        </div></div>
    </ion-content>
</ion-view>
